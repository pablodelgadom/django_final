{% extends 'nucleo/base.html' %} 
{% block titulo %} Portada {% endblock %}

{%block contenido %}

{% load static %}
<div id="contenido-principal">
<img src="{%static 'img/Portada.png' %}"/>
</div>
</br>
</br>
<div id="contenido-principal">
<h1>Bienvenido a la web de Yo te ayudo</h1>
</div>

{% if request.user.is_staff %}

{% if especialistas %}
<table class="table">
  <caption><a class="btn btn-primary" href="{% url 'nucleo:crearEspecialistas' %}">Añadir especialistas</a></caption>
    <thead class="thead-dark">
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">DNI</th>
        <th scope="col">Direccion</th>
        <th scope="col">Fecha de nacimiento</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for e in especialistas %}
      <tr>
        <td>{{ e.first_name }}</td>
        <td>{{ e.dni }}</td>
        <td>{{ e.direccion }}</td>
        <td>{{ e.fechaNacimiento }}</td>
        <td>
          <a class="btn btn-primary" href="{%url 'nucleo:editarEspecialistas' e.pk %}">Editar</a>
          <a class="btn btn-danger" href="{% url 'nucleo:borrarEspecialistas' e.pk  %}">Eliminar</a>
        </td>
      </tr>
      {% endfor %}

      {% else %}
      <h1>No hay registros de especialistas</h1>

      {% endif %}


{% if clientes %}
<table class="table">
  <caption><a class="btn btn-primary">Clientes</a></caption>
    <thead class="thead-dark">
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">DNI</th>
        <th scope="col">Direccion</th>
        <th scope="col">Fecha de nacimiento</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for c in clientes %}
      <tr>
        <td>{{ c.first_name }}</td>
        <td>{{ c.dni }}</td>
        <td>{{ c.direccion }}</td>
        <td>{{ c.fechaNacimiento }}</td>
        <td>
          <a class="btn btn-primary">Activar</a>
        </td>
      </tr>
      {% endfor %}
      
      {% else %}
      <h1>No hay registros de clientes</h1>

      {% endif %}

      {% endif %}

{% if request.user.is_cliente %}


{% if especialistas %}
<table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">DNI</th>
        <th scope="col">Direccion</th>
        <th scope="col">Fecha de nacimiento</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for e in especialistas %}
      <tr>
        <td>{{ e.first_name }}</td>
        <td>{{ e.dni }}</td>
        <td>{{ e.direccion }}</td>
        <td>{{ e.fechaNacimiento }}</td>
        <td>
          <a class="btn btn-primary" href="{% url 'nucleo:crearCitas' %}">Solicitar cita</a>
        </td>
      </tr>
      {% endfor %}

      {% else %}
      <h1>No hay registros de especialistas</h1>

      {% endif %}

  </tbody>
  </table>


<div id="contenido-principal">


<div>
<h5> ¿Desea ver su historial? </h5>

<a class="btn btn-primary" href="{% url 'nucleo:historialC' request.user.id %}">Historial</a>
</div>

</br>

<div>
<h5> ¿Desea ver sus citas pendientes? </h5>


<a class="btn btn-primary" href="{% url 'nucleo:CRUD' request.user.id %}">Citas pendientes</a>
</div>

</div>
{% endif %}

{% if request.user.is_especialista %}

<h2> Clientes </h2>

{% if clientes %}
<table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">DNI</th>
        <th scope="col">Direccion</th>
        <th scope="col">Fecha de nacimiento</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for c in clientes %}
      <tr>
        <td>{{ c.first_name }}</td>
        <td>{{ c.dni }}</td>
        <td>{{ c.direccion }}</td>
        <td>{{ c.fechaNacimiento }}</td>
        <td><a class="btn btn-primary" href="{% url 'nucleo:historialE' c.pk  %}">Ver historial de {{c.first_name}}</a></td>
      </tr>
      {% endfor %}
      
      {% else %}
      <h1>No hay registros de clientes</h1>

      {% endif %}

      {% endif %}
  </tbody>
  </table>

{% endblock %}